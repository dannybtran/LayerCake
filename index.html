<!DOCTYPE html>
<html>
<head>
  <title>LayerCake Example</title>
  <style>
    html,body { padding: 0px; margin: 0px; width: 100%; background-color: #EEE; }
    div       { margin-left: auto; margin-right: auto; width: 700px; }
    canvas    { background-color: #FFF; }
  </style>  
</head>
<body>

<div>
<canvas height="500px" width="700px" id="main">
  Please use a browser that supports canvas.
</canvas>
</div>

<!--<script src="layercake-current.min.js"></script>-->
<script src="src/Class.js"></script>
<script src="src/LayerCake.js"></script>
<script src="src/Point.js"></script>
<script src="src/View.js"></script>
<script src="src/RootView.js"></script>
<script src="src/RectView.js"></script>
<script src="src/ImageView.js"></script>
<script>
  (function() { 
    var canvas = document.getElementById("main");
    var root = LayerCake.get_root(canvas);
  
    var r1 = new RectView(0,0,100,100);
    r1.draggable = true;
  
    var r2 = new RectView(10,10,30,30);
    r2.fillStyle = '#F00';
    r2.mouseover = function(event) {
      r2.fillStyle = '#FF0';
      r2.rootview.draw();
    };
    r2.mouseout = function(event) {
      r2.fillStyle = '#F00';
      r2.rootview.draw();      
    }
    
    var r3 = new RectView(60,10,30,30);
    r3.fillStyle = '#0F0';
  
    var r4 = new RectView(10,60,30,30);
    r4.fillStyle = '#00F';
    r4.clickable = true;
    r4.click = function(event) {
      alert('You clicked square #4!');
    };
  
    var r5 = new RectView(60,60,30,30);
    r5.fillStyle = '#FF0';
    r5.mousemove = function(event) {
      this.fillStyle = '#' + (Math.round(Math.random()*16777215)).toString(16);
      this.rootview.draw();    
    };
  
    r1.addSubview(r2);
    r1.addSubview(r3);  
    r1.addSubview(r4);    
    r1.addSubview(r5);     
    root.addSubview(r1);
    
    var i1 = new ImageView("images/buzzjessie.jpg",100,100,130,98);
    i1.draggable = true;
    i1.clickable = true;
    i1.click = function(event) {
      alert('you clicked an image')
    }
    
    var r6 = new RectView(10,10,30,30);
    r6.fillStyle = '#00F';
    r6.clickable = true;
    r6.click = function(event) {
      alert('You clicked square #6!');
    };

    i1.addSubview(r6);
    console.log(i1);
    root.addSubview(i1);
    
    root.draw();
  })();
</script>
</body>
</html>